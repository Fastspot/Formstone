/*! formstone v1.3.3 [sticky.js] 2017-08-18 | GPL-3.0 License | formstone.it */
!function(e){"function"==typeof define&&define.amd?define(["jquery","./core"],e):e(jQuery,Formstone)}(function(e,t){"use strict";function s(){$.iterate.call(p,i)}function n(){p=e(l.base),s()}function o(){$.iterate.call(p,c)}function i(e){if(a(e),e.$container.length){var t=e.$container.position();e.min=t.top+e.containerMargin-e.margin,e.max=e.min+e.$container.outerHeight(!1)-e.height}else{var s,n=(s=e.stuck?e.$clone:e.$el).position();e.min=n.top,e.max=!1}c(e)}function a(e){var t;t=e.stuck?e.$clone:e.$el,e.margin=parseInt(t.css("margin-top"),10),e.$container.length?e.containerMargin=parseInt(e.$container.css("margin-top"),10):e.containerMargin=0,e.height=t.outerHeight(),e.width=t.outerWidth()}function c(e){var t=f+e.offset;if(t>=e.min){e.stuck=!0,e.$stickys.addClass(u.stuck),e.stuck||(e.$el.trigger(d.stuck),a(e));var s=e.offset,n="";e.max&&t>e.max?(e.passed||e.$el.trigger(d.passed),e.passed=!0,e.$stickys.addClass(u.passed),s="",n=0):(e.passed=!1,e.$stickys.removeClass(u.passed)),e.$el.css({height:e.height,width:e.width,top:s,bottom:n,marginBottom:0})}else e.stuck=!1,e.$stickys.removeClass(u.stuck).removeClass(u.passed),e.stuck&&e.$el.trigger(d.unstuck),e.$el.css({height:"",width:"",top:"",bottom:"",marginBottom:""})}var r=t.Plugin("sticky",{widget:!0,defaults:{offset:0},classes:["sticky","stuck","clone","container","passed"],events:{passed:"passed",stuck:"stuck",unstuck:"unstuck"},methods:{_construct:function(t){t.stuck=!1,t.passed=!0,t.$clone=t.$el.clone(),t.container=t.$el.data("sticky-container"),t.$container=e(t.container),t.$el.addClass(u.base),t.$clone.removeClass(u.element).addClass(u.clone),t.$container.addClass(u.container),t.$stickys=e().add(t.$el).add(t.$clone),t.$el.after(t.$clone)},_postConstruct:function(e){n(),s()},_destruct:function(e){e.$clone.remove(),e.$container.removeClass(u.container),e.$el.css({height:"",width:"",top:"",bottom:"",marginBottom:""}).removeClass(u.base),n()},_resize:s,_raf:function(){(f=m.scrollTop())<0&&(f=0),f!==g&&(o(),g=f)}}}),l=(r.namespace,r.classes),u=l.raw,d=r.events,$=r.functions,m=(t.window,t.$window),f=0,g=0,p=[]});